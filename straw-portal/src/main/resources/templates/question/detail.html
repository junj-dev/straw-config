<!DOCTYPE html>
<html  xmlns:th="http://www.thymeleaf.org"
	  xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head th:replace="common/head :: head"></head>
<head>
	<title th:text="${question.title}"></title>
	<link href="/straw/portal/img/logo.ico" rel="SHORTCUT ICON" />
	<link rel="stylesheet" th:href="@{/straw/portal/plugins/summernote/summernote.min.css}">
	<!--提问内容-->
	<link rel="stylesheet" th:href="@{/straw/portal/css/question-content.css}">

</head>
<body>
<header th:replace="common/head :: header"></header>
<div class="container mt-5 mb-1 bg-light" >
	<div class="row">
		<div class="col-8">
			<div class="row">
				<div class="col-12">
					<div class="card">
						<div class="card-header">
							<h3 th:text="${question.title}"></h3>
							<div class="row my-2">
								<div class="col-7 mt-1 text-info">
									<i class="fa fa-tags" aria-hidden="true"></i>
									<a class="text-info" th:href="@{'/straw/portal/question/tag_question.html?tagId='+${tag.id}}" th:each="tag : ${question.tags}"><small th:text="${tag.name+'&nbsp;'}"></small></a>
								</div>
								<div class="col-5">
									<ul class="list-inline mb-1 ">
										<li class="list-inline-item" th:text="${question.userNickName}"></li>
										<li class="list-inline-item" th:text="|${question.pageViews}浏览|"></li>
										<li class="list-inline-item" th:text="${question.distanceTime}"></li>
									</ul>
								</div>
							</div>
						</div>
						<div class="card-body question-content" th:utext="${question.content}" >
						</div>
					</div>
				</div>

			</div>
			<!--列出所有的答案-->
			<div class="row mt-5">
				<div class="col-12">
					<div class="well-sm"><h3 th:text="|${question.answersize}条回答|">3条回答</h3></div>
					<div class="card card-default" th:each="answer : ${question.answers}">
						<!-- Default panel contents -->
						<div class="card-header">
							<div class="row">
								<div class="col-1">
									<img style="width: 50px;height: 50px;border-radius: 50%;" src="http://39.97.229.107/group1/M00/00/06/rBF9h15rOE-ARERBAABVIbenIVo282.jpg">
								</div>
								<div class="col-8 mx-2">
									<div class="row" style="margin-top: 1px;margin-bottom: 2px">
										<span th:text="${answer.userNickName}"></span>
									</div>
									<div class="row" style="margin-top:5px;margin-bottom: 1px ">
										<span th:text="${answer.distanceTime}"></span>
									</div>

								</div>
							</div>
						</div>
						<div class="card-body" >
							<div class="col-12"  th:utext="${answer.content}" >
							</div>
						</div>
					</div>
				</div>

			</div><!--列出所有的答案-end-->
			<!--如果没有回答问题的权限就不显示回答框-->
			<div class="row my-5"   sec:authorize="hasAuthority('/question/answer')">
				<div class="col-12">
					<h3 class="text-secondary">填写答案</h3>
					<form action="/question/answer" method="post" enctype="application/x-www-form-urlencoded">
						<input type="hidden" th:value="${question.id}" name="id">
						<div class="form-group">
							<textarea id="summernote" name="content"></textarea>
						</div>
						<div class="form-group">
							<button type="submit" class="btn btn-primary">提交回答</button>
						</div>
					</form>
				</div>
			</div>


		</div>
		<div class="col-4 pb-2 ">
			<!--相关提问-->
			<div th:replace="common/similar_question::similar_question"></div>
		</div>
	</div>

</div>




<!--底部-->
<footer th:replace="common/footer::footer"></footer>
<script th:src="@{/straw/portal/plugins/summernote/summernote.min.js}"></script>
<script th:src="@{/straw/portal/plugins/summernote/summernote-zh-CN.min.js}"></script>
<script th:src="@{/straw/portal/js/detail.js?v=1.2}"></script>
</body>
</html>